### **SM2_origional.py 补充说明文档**
#### 加解密与签名
1. **加密解密**
   - `sm2_encrypt(PB: Point, M: bytes)`：SM2公钥加密算法，生成随机数`k`，计算椭圆曲线点`C1 = k*G`和`S = k*PB`，通过`Kdf`派生密钥`t`加密明文`M`得到`C2`，并计算认证标签`C3`，最终返回`C1 || C2 || C3`。
   - `sm2_decrypt(dB: int, C: bytes)`：SM2私钥解密算法，解析密文得到`C1, C2, C3`，计算`S = dB*C1`，派生密钥`t`解密`C2`得到明文`M`，验证`C3`与计算的哈希值是否一致。

2. **签名**
   - `sm2_sign(dA: int, M: bytes, ZA)`：SM2签名算法，计算消息哈希`e`，生成随机数`k`，计算`r = (e + x1) mod n`和`s = [(1+dA)^{-1}*(k - r*dA)] mod n`，返回签名`(r, s)`。


### **key_misuse.py 说明文档**
#### 功能概述
该文件演示了SM2签名中重复使用随机数`k`导致私钥泄露的风险，通过两条使用同一`k`签名的消息，推导私钥`dA`。

#### 核心函数
- `reusing_k(dA: int, M1: bytes, M2: bytes, ZA)`：模拟重复使用随机数`k`对两条消息`M1`和`M2`签名，通过签名值`(r1, s1)`和`(r2, s2)`计算私钥`dA`，验证私钥泄露风险。


### **key_agreement.py 说明文档**
#### 功能概述
该文件实现SM2密钥协商协议的部分流程，参与方生成临时密钥对用于密钥交换。

#### 核心函数
- `RA_generate(self)`：参与方生成临时私钥`rA`和公钥`RA = rA*G`，返回`RA`用于密钥协商的初始步骤。
